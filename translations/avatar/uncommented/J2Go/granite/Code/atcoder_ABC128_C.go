
package main import ( "bufio" "fmt" "os" "strconv" "strings" ) func main() { reader := bufio.NewReader(os.Stdin) N, _ := strconv.Atoi(strings.TrimSpace(readLine(reader))) M, _ := strconv.Atoi(strings.TrimSpace(readLine(reader))) A := make([]int, N) for i := 0; i < N; i++ { A[i] = 0 } for i := 0; i < M; i++ { K, _ := strconv.Atoi(strings.TrimSpace(readLine(reader))) for j := 0; j < K; j++ { S, _ := strconv.Atoi(strings.TrimSpace(readLine(reader))) S-- A[S] |= 1 << i } } P, _ := strconv.Atoi(strings.TrimSpace(readLine(reader))) ans := 0 for s := 0; s < 1<<N; s++ { t := 0 for i := 0; i < N; i++ { if (s>>i)&1 == 1 { t ^= A[i] } } if P == t { ans++ } } fmt.Println(ans) } func readLine(reader *bufio.Reader) string { str, _, err := reader.ReadLine() if err == nil { return string(str) } return "" }

